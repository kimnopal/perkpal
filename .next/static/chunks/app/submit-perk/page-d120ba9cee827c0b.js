(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74],{112:(e,r,a)=>{Promise.resolve().then(a.bind(a,5113))},5113:(e,r,a)=>{"use strict";a.d(r,{default:()=>n});var t=a(5155),o=a(2115),d=a(2663);function n(){let[e,r]=(0,o.useState)({vendorLogo:null,vendorName:"",perkTitle:"",shortDescription:"",longDescription:"",redemptionMethod:"affiliate_link",redemptionValue:""}),[a,n]=(0,o.useState)(""),[l,i]=(0,o.useState)(!1),s=e=>{let{name:a,value:t}=e.target;r(e=>({...e,[a]:t}))},c=async a=>{a.preventDefault(),i(!0);try{var t,o;let a="http://perkpal-cms.pastilulus.me/api",l=null;if(e.vendorLogo){let r=new FormData;r.append("files",e.vendorLogo);let o=await fetch("".concat(a,"/upload"),{method:"POST",body:r});if(!o.ok){let e=await o.text();throw d.Ay.error(e),Error("Failed to upload logo")}l=null==(t=(await o.json())[0])?void 0:t.id}let i={data:{title:e.perkTitle,short_description:e.shortDescription,long_description:e.longDescription,vendor_name:e.vendorName,redemption_method:e.redemptionMethod,redemption_value:e.redemptionValue,featured:!1,valid_from:new Date().toISOString(),valid_to:null,...l&&{logo:l}}},s=await fetch("".concat(a,"/perks"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!s.ok){let e=await s.json();throw Error((null==(o=e.error)?void 0:o.message)||"HTTP error! status: ".concat(s.status))}await s.json(),r({vendorLogo:null,vendorName:"",perkTitle:"",shortDescription:"",longDescription:"",redemptionMethod:"affiliate_link",redemptionValue:""}),n(""),d.Ay.success("Perk submitted successfully! It will be reviewed before being published.")}catch(e){console.error("Error submitting perk:",e),d.Ay.error("Failed to submit perk: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{i(!1)}};return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-background-dark dark:text-background-light mb-4",children:"Submit a Perk"}),(0,t.jsx)("p",{className:"text-lg text-background-dark/70 dark:text-background-light/70 max-w-3xl mx-auto",children:"Help us grow our community by submitting exclusive perks for founders, freelancers, and remote workers."})]}),(0,t.jsxs)("form",{onSubmit:c,className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-background-light dark:bg-background-dark rounded-xl shadow-lg p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-background-dark dark:text-background-light mb-6",children:"Vendor Information"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-background-dark dark:text-background-light mb-2",children:"Vendor Logo *"}),(0,t.jsx)("div",{className:"mt-2 flex justify-center px-6 pt-5 pb-6 border-2 border-background-dark/20 dark:border-background-light/20 border-dashed rounded-lg hover:border-primary transition-colors",children:(0,t.jsxs)("div",{className:"space-y-1 text-center",children:[a?(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("img",{src:a,alt:"Logo preview",className:"mx-auto h-32 w-32 object-contain rounded-lg"})}):(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-background-dark/40 dark:text-background-light/40",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,t.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,t.jsxs)("div",{className:"flex text-sm text-background-dark/60 dark:text-background-light/60",children:[(0,t.jsxs)("label",{className:"relative cursor-pointer bg-primary hover:bg-primary/90 text-background-dark font-medium py-2 px-4 rounded-lg transition-colors",children:[(0,t.jsx)("span",{children:"Upload a file"}),(0,t.jsx)("input",{type:"file",className:"sr-only",accept:"image/*",onChange:e=>{var a;let t=null==(a=e.target.files)?void 0:a[0];if(t){r(e=>({...e,vendorLogo:t}));let e=new FileReader;e.onload=e=>{var r;n(null==(r=e.target)?void 0:r.result)},e.readAsDataURL(t)}},required:!0})]}),(0,t.jsx)("p",{className:"pl-1 py-2",children:"or drag and drop"})]}),(0,t.jsx)("p",{className:"text-xs text-background-dark/50 dark:text-background-light/50",children:"PNG, JPG, GIF up to 10MB"})]})})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-background-dark dark:text-background-light mb-2",children:"Vendor Name *"}),(0,t.jsx)("input",{type:"text",name:"vendorName",value:e.vendorName,onChange:s,required:!0,className:"w-full px-4 py-3 border border-background-dark/20 dark:border-background-light/20 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-background-dark text-background-dark dark:text-background-light placeholder-background-dark/50 dark:placeholder-background-light/50",placeholder:"Enter vendor/company name"})]})]}),(0,t.jsxs)("div",{className:"bg-background-light dark:bg-background-dark rounded-xl shadow-lg p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-background-dark dark:text-background-light mb-6",children:"Perk Details"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-background-dark dark:text-background-light mb-2",children:"Perk Title *"}),(0,t.jsx)("input",{type:"text",name:"perkTitle",value:e.perkTitle,onChange:s,required:!0,className:"w-full px-4 py-3 border border-background-dark/20 dark:border-background-light/20 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-background-dark text-background-dark dark:text-background-light placeholder-background-dark/50 dark:placeholder-background-light/50",placeholder:"e.g., 50% off premium subscription"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-background-dark dark:text-background-light mb-2",children:"Short Description *"}),(0,t.jsx)("textarea",{name:"shortDescription",value:e.shortDescription,onChange:s,required:!0,rows:3,className:"w-full px-4 py-3 border border-background-dark/20 dark:border-background-light/20 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-background-dark text-background-dark dark:text-background-light placeholder-background-dark/50 dark:placeholder-background-light/50",placeholder:"Brief description for the perk card (max 150 characters)",maxLength:150}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-background-dark/50 dark:text-background-light/50",children:[e.shortDescription.length,"/150 characters"]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-background-dark dark:text-background-light mb-2",children:"Long Description *"}),(0,t.jsx)("textarea",{name:"longDescription",value:e.longDescription,onChange:s,required:!0,rows:6,className:"w-full px-4 py-3 border border-background-dark/20 dark:border-background-light/20 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-background-dark text-background-dark dark:text-background-light placeholder-background-dark/50 dark:placeholder-background-light/50",placeholder:"Detailed description including terms, conditions, and how to use the perk"})]})]}),(0,t.jsxs)("div",{className:"bg-background-light dark:bg-background-dark rounded-xl shadow-lg p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-background-dark dark:text-background-light mb-6",children:"Redemption Details"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-background-dark dark:text-background-light mb-3",children:"Redemption Method *"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center p-3 rounded-lg border-2 hover:border-primary/50 transition-all cursor-pointer ".concat("affiliate_link"===e.redemptionMethod?"bg-primary/10 border-primary":"border-background-dark/20 dark:border-background-light/20"),children:[(0,t.jsx)("input",{id:"affiliate_link",name:"redemptionMethod",type:"radio",value:"affiliate_link",checked:"affiliate_link"===e.redemptionMethod,onChange:s,className:"h-5 w-5 text-primary"}),(0,t.jsx)("label",{htmlFor:"affiliate_link",className:"ml-3 block text-sm font-medium text-background-dark dark:text-background-light cursor-pointer flex-1",children:"Affiliate Link"})]}),(0,t.jsxs)("div",{className:"flex items-center p-3 rounded-lg border-2 hover:border-primary/50 transition-all cursor-pointer ".concat("coupon_code"===e.redemptionMethod?"bg-primary/10 border-primary":"border-background-dark/20 dark:border-background-light/20"),children:[(0,t.jsx)("input",{id:"coupon_code",name:"redemptionMethod",type:"radio",value:"coupon_code",checked:"coupon_code"===e.redemptionMethod,onChange:s,className:"h-5 w-5 text-primary"}),(0,t.jsx)("label",{htmlFor:"coupon_code",className:"ml-3 block text-sm font-medium text-background-dark dark:text-background-light cursor-pointer flex-1",children:"Coupon Code"})]}),(0,t.jsxs)("div",{className:"flex items-center p-3 rounded-lg border-2 hover:border-primary/50 transition-all cursor-pointer ".concat("form_submission"===e.redemptionMethod?"bg-primary/10 border-primary":"border-background-dark/20 dark:border-background-light/20"),children:[(0,t.jsx)("input",{id:"form_submission",name:"redemptionMethod",type:"radio",value:"form_submission",checked:"form_submission"===e.redemptionMethod,onChange:s,className:"h-5 w-5 text-primary"}),(0,t.jsx)("label",{htmlFor:"form_submission",className:"ml-3 block text-sm font-medium text-background-dark dark:text-background-light cursor-pointer flex-1",children:"Form Submission"})]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-background-dark dark:text-background-light mb-2",children:"Redemption Value *"}),(0,t.jsx)("input",{type:"text",name:"redemptionValue",value:e.redemptionValue,onChange:s,required:!0,className:"w-full px-4 py-3 border border-background-dark/20 dark:border-background-light/20 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-background-dark text-background-dark dark:text-background-light placeholder-background-dark/50 dark:placeholder-background-light/50",placeholder:"affiliate_link"===e.redemptionMethod?"https://example.com/affiliate-link":"coupon_code"===e.redemptionMethod?"PERKPAL50":"Contact email or form URL"}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-background-dark/50 dark:text-background-light/50",children:["affiliate_link"===e.redemptionMethod&&"Enter the affiliate or referral link","coupon_code"===e.redemptionMethod&&"Enter the coupon or promo code","form_submission"===e.redemptionMethod&&"Enter contact email or form submission URL"]})]})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("button",{type:"submit",disabled:l,className:"px-8 py-4 bg-primary hover:bg-primary/90 disabled:bg-primary/50 text-background-dark font-bold rounded-lg transition-colors text-lg min-w-[200px]",children:l?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-background-dark",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Perk"})})]})]})}}},e=>{e.O(0,[663,441,255,358],()=>e(e.s=112)),_N_E=e.O()}]);